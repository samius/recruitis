{% extends 'base.html.twig' %}

{% block body %}
    <div class="row">
        <div class="col-md-12 wrapper">
            <h1>Pozice ve firmě International Contract Agency</h1>
            <small class="text-muted">Zobrazeno {{ jobs.entriesFrom}} až {{ jobs.entriesTo }} inzerátů z {{ jobs.total }}</small>
            <div class="list">
                {% for job in jobs.items %}
                    {# @var \App\Integrations\Recruitis\DataObject\Jobs\Job job #}
                    <div class="job-card">
                        <h2>{{ job.title}}</h2>
                        {% for address in job.addresses %}
                            {% if address.city %}<span class="tag icon-address">{{ address.city }}</span>{% endif %}
                        {% endfor %}
                        {% for workfield in job.workfields %}
                            {% if workfield.name %}<span class="tag icon-work">{{ workfield.name }}</span>{% endif %}
                        {% endfor %}
                        {% if job.suitableForString %}
                            <span class="tag icon-tag">{{ job.suitableForString }}</span>
                        {% endif %}
                        {% if job.salary is not null %}
                            <span class="tag icon-salary">{{ job.salary.min|number_format }}&nbsp;&ndash;&nbsp;{{ job.salary.max|number_format }} {{ job.salary.currency }} / {{ job.salary.unit }}</span>
                            <span class="tag icon-salary">{{ job.salary.min}}&nbsp;&ndash;&nbsp;{{ job.salary.max }} {{ job.salary.currency }} / {{ job.salary.unit }}</span>
                        {% endif %}
                        {% if job.education is not null %}
                            <span class="tag icon-education">{{ job.education.name }}</span>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
            <div class="paginator">
                <nav>
                  <ul class="pagination justify-content-center">
                    <li class="page-item{% if jobs.isFirstPage %} disabled{% endif %}">
                        <a class="page-link"{% if not jobs.isFirstPage %} href="{{ path('jobs_all', {page: jobs.currentPage-1}) }}"{% endif %}>Předhozí</a>
                    </li>
                      {% for pageNum in 1..jobs.totalPages %}
                          <li class="page-item {% if pageNum == jobs.currentPage %} active {% endif %}"><a class="page-link" href="{{ path('jobs_all', {'page':pageNum}) }}">{{ pageNum }}</a></li>
                      {% endfor %}
                    <li class="page-item{% if jobs.isLastPage %} disabled{% endif %}">
                        <a class="page-link"{% if not jobs.isLastPage %} href="{{ path('jobs_all', {page: jobs.currentPage+1}) }}"{% endif %}>Další</a>
                    </li>
                  </ul>
                </nav>
            </div>
        </div>
    </div>
{% endblock %}
